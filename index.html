<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn with Psudo</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
    <div id="header-container"></div> <!-- Placeholder for header -->
    <main class="container">
        <section class="intro">
            <h2>What is Selenium?</h2>
            <p>Selenium is an open-source framework for automating web applications. It supports multiple browsers and programming languages.</p>
        </section>
        
        <section class="drag-drop">
            <h2>Selenium Topics</h2>
            
            <h1>A Fancy Table</h1>

            <table id="topic">
                <tr>
                    <th>Sl. No.</th>
                    <th>Page Name</th>
                    <th>Link</th>
                </tr>
                <tbody id="tbody">
                    <!-- Table rows will be populated here by JavaScript -->
                </tbody>
            </table>
            <script>
                $(document).ready(function() {
                    console.log('Document ready event triggered'); // Log to check when the event is triggered
                    $('#header-container').load('./pages/header.htm', function(response, status, xhr) {
						if (status == 'error') {
							console.log('Error loading header: ' + xhr.status + ' ' + xhr.statusText);
						}
					});

					// Load the footer
					$('#footer-container').load('./Pages/footer.htm', function(response, status, xhr) {
						if (status == 'error') {
							console.log('Error loading footer: ' + xhr.status + ' ' + xhr.statusText);
						}
					});
                    // Clear the table body to ensure no duplicate rows
                    $('#tbody').empty();
                    
                    $.ajaxSetup({ cache: false }); // Disable cache to avoid potential caching issues
                    
                    $.getJSON('./scripts/files-list.json', function(data) {
                        console.log('JSON Data loaded, with file contents'); // Log when data is loaded
                        console.log(data);
                        // Dynamically populate the table with the file list
                        data.forEach((file, index) => { console.log(file), console.log(index);
                            $('#tbody').append(`
                                <tr>
                                    <td>${index + 1}</td>
                                    <td>${file}</td>
                                    <td><a href="./Pages/${file}.html" target="_self">View</a></td>
                                </tr>
                            `);
                        });
                    }).fail(function(jqXHR, textStatus, errorThrown) {
                        console.error('Error loading JSON:', textStatus, errorThrown);
                        alert("Failed to load the file list. Please check if the 'files-list.json' path is correct.");
                    });
                });
            </script>
        </section>
    </main>

</body>
 <!-- Footer Section -->
    <div id="footer-container"></div> <!-- Placeholder for footer -->
</html>
